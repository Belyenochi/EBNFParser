[![Build Status](https://travis-ci.org/thautwarm/EBNFParser.svg?branch=master)](https://travis-ci.org/thautwarm/EBNFParser)

# EBNFParser
Parse Many, Any, Every
---------
[HomePage](https://github.com/thautwarm/EBNFParser)

## Multi-Language-Versions
- [Python Project](./Python)  
- [C# Project](./CSharp)(unfinished)
--------------------


Each example has the same structure like:  
- `grammar`. The only file you have to write.
- `parser.py`. Parser and token generated by EBNFParser.
- `testLang.py`. To do some testing easily.
- `testn.json`. The n-th testing result in JSON format.
- `testnAst`. The n-th testing result in S-Expr format.

## Some Examples

- [Lisp](./tests/Python/Lang/Lisp)
    - Grammar
    See `./tests/Python/Lang/Lisp/grammar`.
    ```
    Expr ::= Liter | Left Expr* Right
    Stmt ::= (NEWLINE* Expr+ NEWLINE*)*
    Liter   := R'[\w\\\+\*\-]+'
    Left    := '('
    Right   := ')'
    NEWLINE := R'\n'
    ```
    - testCodes
    See `./testpy.sh`.
    ```
    export PYTHONPATH="Python"
    python Python/parserGenerator.py tests/Python/Lang/Lisp/grammar tests/Python/Lang/Lisp/parser.py -test True
    python tests/Python/Lang/Lisp/testLang.py Stmt "(set r 1) (define a b (+ a (+ r 1)))"  -o tests/Python/Lang/Lisp/test1
    ```
    - Result
        - JSON.   
        See `./tests/Python/Lang/Lisp/test1.json`.
        ```json
        ...
        {
                        "name": "Expr",
                        "value": [
                            {
                                "name": "Liter",
                                "value": "1",
                                "meta": {
                                    "rowIdx": 0,
                                    "hasParsed": 4,
                                    "fileName": "<input>"
                                }
                            }
                        ],
                        "meta": {
                            "rowIdx": 0,
                            "hasParsed": 3,
                            "fileName": "<input>"
                        }
                    },
                    {
                        "name": "Right",
                        "value": ")",
                        "meta": {
                            "rowIdx": 0,
                            "hasParsed": 5,
                            "fileName": "<input>"
                        }
                    }
        ...
        ```
        - Ast
        See `./tests/Python/Lang/Lisp/test1Ast`.
        ```
        Stmt[Expr[Left[(]
                
                Expr[Liter[set]
                    
                ]
                Expr[Liter[r]
                    
                ]
                Expr[Liter[1]
                    
                ]
                Right[)]
                
            ]
            Expr[Left[(]
                
                Expr[Liter[define]
                    
                ]
                Expr[Liter[a]
                    
                ]
                Expr[Liter[b]
                    
                ]
                Expr[Left[(]
                    
                    Expr[Liter[+]
                            
                    ]
                    Expr[Liter[a]
                            
                    ]
                    Expr[Left[(]
                            
                            Expr[Liter[+]
                                
                            ]
                            Expr[Liter[r]
                                
                            ]
                            Expr[Liter[1]
                                
                            ]
                            Right[)]
                            
                    ]
                    Right[)]
                    
                ]
                Right[)]
                
            ]
        ]
        ```
- [Python(Just Expression)](./tests/Python/Lang/Python)
- [ExtraPy Language](./tests/Python/Lang/Expy)
- [EBNF(bootstrap)](./tests/Python/Lang/EBNF)
- [CmLang](./tests/Python/Lang/Cm)

## Usage
- Requirement(for Python version)
    - Python 3.6.x

Feel free to clone this project and make parsers for your own language quickly and easily.
- Command
    1. move to the root of project directory.
    2. `cd Python/`
    3. write an EBNF file to define the grammars for your own language.
    4. see the following codes. Also, you can find out more details in each example listed above. Or you can see [testpy.sh](./testpy.sh).
    ```shell
    python parserGenerator.py <EBNF filename> <outputParser.py filename> -test True
    python <outputParser.py filename> "<codes of your language>" -o <JSON filename>
    ```

## Parser-Generator
- [Python](./Python/Misakawa)

It is implemented by using bootstrap EBNF gramamr.  
- [BootstrapParser](./Python/Misakawa/Bootstrap/Parser.py)
- [BootstrapAst](./Python/Misakawa/Bootstrap/Ast.py)
- [BootstrapCompile/Code Generator](./Python/Misakawa/Bootstrap/Compile.py)

Will support C# sooner.

-----------------------



## License  
[GPL](./LICENSE)






